// Converts all ModuleDeployableSolarPanel modules within a part to weatherDrivenSolarPanel
@PART:HAS[@MODULE[ModuleDeployableSolarPanel]]:FINAL
{
    @MODULE[ModuleDeployableSolarPanel],*
    {
        @name = weatherDrivenSolarPanel
    }
}

//Since Kopernicus solar panels output energy in the same way as this mod, drop the Kopernicus calculations when in the presence of volumetric clouds
@PART:HAS[@MODULE[KopernicusSolarPanel]]:NEEDS[Kopernicus]:FINAL
{
    @MODULE[KopernicusSolarPanel],*
    {
        @name = weatherDrivenSolarPanel
    }
}

//B9PartSwitch support, changes the identifier to a generic identifier
@PART:HAS[@MODULE[ModuleB9PartSwitch],~useweatherDrivenSolarPanel[false]]:FINAL
{
    @MODULE[ModuleB9PartSwitch],*
    {
        @SUBTYPE,*
        {
            @MODULE:HAS[@IDENTIFIER[ModuleDeployableSolarPanel]]
            {
				@IDENTIFIER[ModuleDeployableSolarPanel]
				{
					@name = weatherDrivenSolarPanel
				}
            }
        }
    }
}

