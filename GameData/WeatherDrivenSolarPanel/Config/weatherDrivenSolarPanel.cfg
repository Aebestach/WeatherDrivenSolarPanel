// Stock----Since Kopernicus solar panels output energy in the same way as this mod, drop the Kopernicus calculations when in the presence of volumetric clouds
@PART[*]:NEEDS[Kopernicus,!RealismOverhaul]:FINAL
{
    !MODULE[SolarPanelFixer] {}
    
    +MODULE[ModuleDeployableSolarPanel],*
    {
        @name = KopernicusSolarPanel
    }

    +MODULE[KopernicusSolarPanel],*
    {
        @name = weatherDrivenSolarPanelStock
    }
}

// RO---- Kopernicus solar panels output energy in the same way as this mod, drop the Kopernicus calculations when in the presence of volumetric clouds
@PART[*]:NEEDS[Kopernicus,RealismOverhaul]:FINAL
{
    !MODULE[SolarPanelFixer] {}

    +MODULE[ModuleDeployableSolarPanel],*
    {
        @name = KopernicusSolarPanel
    }
    
    +MODULE[KopernicusSolarPanel],*
    {
        @name = weatherDrivenSolarPanelRO
    }
}

// Stock----B9PartSwitch support, changes the identifier to a generic identifier
@PART[*]:HAS[@MODULE[ModuleB9PartSwitch]]:NEEDS[!RealismOverhaul]:FINAL
{
    @MODULE[ModuleB9PartSwitch],*
    {
        @SUBTYPE,*
        {
            @MODULE:HAS[@IDENTIFIER[ModuleDeployableSolarPanel]]
            {
				@IDENTIFIER[ModuleDeployableSolarPanel]
				{
					@name = weatherDrivenSolarPanelStock
				}
            }
        }
    }
}

// RO----B9PartSwitch support, changes the identifier to a generic identifier
@PART[*]:HAS[@MODULE[ModuleB9PartSwitch]]:NEEDS[RealismOverhaul]:FINAL
{
    @MODULE[ModuleB9PartSwitch],*
    {
        @SUBTYPE,*
        {
            @MODULE:HAS[@IDENTIFIER[ModuleDeployableSolarPanel]]
            {
				@IDENTIFIER[ModuleDeployableSolarPanel]
				{
					@name = weatherDrivenSolarPanelRO
				}
            }
        }
    }
}
